[time]
# Interval for live data polling (in seconds)
interval = 10
# Sleep time if inverter is offline (e.g. at night)
offline_interval = 60
# Backoff time after an error
error_interval = 60

[serial]
# Path to USB-RS485 adapter
# Tip: Use /dev/serial/by-id/... for stability across reboots
port = /dev/ttyUSB0
baudrate = 9600

[general]
# Log Level: DEBUG, INFO, WARNING, ERROR
log_level = INFO

[mqtt]
host = 192.168.178.160
port = 1883
topic = inverter/growatt/solar
error_topic = inverter/growatt/solar/error

# --- INVERTER CONFIGURATION ---
# Each inverter gets its own section [inverters.NAME]

[inverters.main]
unit = 1
measurement = inverter

# protocol_version determines which register map is loaded.
# Available Options (based on our new implementation):
#   TL3X        -> Standard PV (MIC/MIN/TL-X)
#   TL-XH       -> Battery Ready High Voltage (Basic + Battery)
#   TL-XH-MIN   -> MIN TL-XH (Single Phase Hybrid)
#   MOD-XH      -> MOD TL3-XH (Three Phase Hybrid)
#   SPH         -> SPH Hybrid Series
#   SPA         -> SPA AC-Coupled Storage
#   MAX         -> MAX Commercial Inverters
#   MIX         -> MIX / SPH Series
#
# Choose the appropriate shortcode here:
protocol_version = MOD-XH

# Optional: A Smart Meter directly on the bus (if available)
#[inverters.meter]
#unit = 2
#measurement = meter
#protocol_version = EASTRON